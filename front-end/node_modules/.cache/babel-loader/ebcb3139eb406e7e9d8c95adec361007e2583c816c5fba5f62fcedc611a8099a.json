{"ast":null,"code":"var _jsxFileName = \"/Users/iyeeun/Documents/shop_db/front-end/src/components/chat/Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport CommonTable2 from './chatList/CommonTable2';\nimport CommonTableColumn2 from './chatList/CommonTableColumn2';\nimport CommonTableRow2 from './chatList/CommonTableRow2';\nimport './Chat.css';\nimport Chatroom from './Chatroom.js';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Chat = ({\n  roomid,\n  selectedRoomId,\n  handleSelectRoom\n}) => {\n  _s();\n  const [dataList, setDataList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const postsPerPage = 5;\n  useEffect(() => {\n    axios.post('/process/chat').then(response => {\n      setDataList(response.data);\n    }).catch(error => {\n      console.error('There was an error fetching the posts!', error);\n    });\n  }, []);\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = Array.isArray(dataList) ? dataList.slice(indexOfFirstPost, indexOfLastPost) : [];\n  const getShadowClass = state => {\n    switch (state) {\n      case '우울':\n        return 'state_color sadness';\n      case '불안':\n        return 'state_color anxiety';\n      case '강박':\n        return 'state_color fear';\n      default:\n        return 'state_color';\n    }\n  };\n  const handleChatItemClick = (my_roomid, roomId) => {\n    window.parent.postMessage({\n      roomId\n    }, '*');\n    // handleSelectRoom(my_roomid, roomId);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatTop\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chat List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: currentPosts.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"img_name\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user_nickname\",\n            children: item.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `state_color ${getShadowClass(item.state)}`,\n            children: item.state\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"chat-item\",\n          onClick: () => handleChatItemClick(roomid, item.roomId),\n          children: \"\\uCC44\\uD305\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, item.roomId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Chat, \"/fbU/utGUMxOM8caLhqi0sLic4U=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","CommonTable2","CommonTableColumn2","CommonTableRow2","Chatroom","axios","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","roomid","selectedRoomId","handleSelectRoom","_s","dataList","setDataList","currentPage","setCurrentPage","postsPerPage","post","then","response","data","catch","error","console","indexOfLastPost","indexOfFirstPost","currentPosts","Array","isArray","slice","getShadowClass","state","handleChatItemClick","my_roomid","roomId","window","parent","postMessage","children","className","fileName","_jsxFileName","lineNumber","columnNumber","map","item","nickname","onClick","_c","$RefreshReg$"],"sources":["/Users/iyeeun/Documents/shop_db/front-end/src/components/chat/Chat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport CommonTable2 from './chatList/CommonTable2';\nimport CommonTableColumn2 from './chatList/CommonTableColumn2';\nimport CommonTableRow2 from './chatList/CommonTableRow2';\nimport './Chat.css';\nimport Chatroom from './Chatroom.js';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst Chat = ({ roomid, selectedRoomId, handleSelectRoom }) => {\n  const [dataList, setDataList] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const postsPerPage = 5;\n\n  useEffect(() => {\n    axios\n      .post('/process/chat')\n      .then((response) => {\n        setDataList(response.data);\n      })\n      .catch((error) => {\n        console.error('There was an error fetching the posts!', error);\n      });\n  }, []);\n\n  const indexOfLastPost = currentPage * postsPerPage;\n  const indexOfFirstPost = indexOfLastPost - postsPerPage;\n  const currentPosts = Array.isArray(dataList) ? dataList.slice(indexOfFirstPost, indexOfLastPost) : [];\n\n  const getShadowClass = (state) => {\n    switch (state) {\n      case '우울':\n        return 'state_color sadness';\n      case '불안':\n        return 'state_color anxiety';\n      case '강박':\n        return 'state_color fear';\n      default:\n        return 'state_color';\n    }\n  };\n\n  const handleChatItemClick = (my_roomid, roomId) => {\n    window.parent.postMessage({ roomId }, '*');\n    // handleSelectRoom(my_roomid, roomId);\n  };\n\n  return (\n    <>\n      <div className=\"chatTop\">\n        <h1>Chat List</h1>\n      </div>\n      <ul>\n        {currentPosts.map((item) => (\n          <li key={item.roomId}>\n            <div className=\"img_name\">\n              <span className=\"user_nickname\">{item.nickname}</span>\n              <span className={`state_color ${getShadowClass(item.state)}`}>{item.state}</span>\n            </div>\n            <button className=\"chat-item\" onClick={() => handleChatItemClick(roomid, item.roomId)}>\n              채팅\n            </button>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default Chat;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,YAAY,MAAM,yBAAyB;AAClD,OAAOC,kBAAkB,MAAM,+BAA+B;AAC9D,OAAOC,eAAe,MAAM,4BAA4B;AACxD,OAAO,YAAY;AACnB,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/C,MAAMC,IAAI,GAAGA,CAAC;EAAEC,MAAM;EAAEC,cAAc;EAAEC;AAAiB,CAAC,KAAK;EAAAC,EAAA;EAC7D,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACmB,WAAW,EAAEC,cAAc,CAAC,GAAGpB,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAMqB,YAAY,GAAG,CAAC;EAEtBpB,SAAS,CAAC,MAAM;IACdK,KAAK,CACFgB,IAAI,CAAC,eAAe,CAAC,CACrBC,IAAI,CAAEC,QAAQ,IAAK;MAClBN,WAAW,CAACM,QAAQ,CAACC,IAAI,CAAC;IAC5B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;IAChE,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,eAAe,GAAGV,WAAW,GAAGE,YAAY;EAClD,MAAMS,gBAAgB,GAAGD,eAAe,GAAGR,YAAY;EACvD,MAAMU,YAAY,GAAGC,KAAK,CAACC,OAAO,CAAChB,QAAQ,CAAC,GAAGA,QAAQ,CAACiB,KAAK,CAACJ,gBAAgB,EAAED,eAAe,CAAC,GAAG,EAAE;EAErG,MAAMM,cAAc,GAAIC,KAAK,IAAK;IAChC,QAAQA,KAAK;MACX,KAAK,IAAI;QACP,OAAO,qBAAqB;MAC9B,KAAK,IAAI;QACP,OAAO,qBAAqB;MAC9B,KAAK,IAAI;QACP,OAAO,kBAAkB;MAC3B;QACE,OAAO,aAAa;IACxB;EACF,CAAC;EAED,MAAMC,mBAAmB,GAAGA,CAACC,SAAS,EAAEC,MAAM,KAAK;IACjDC,MAAM,CAACC,MAAM,CAACC,WAAW,CAAC;MAAEH;IAAO,CAAC,EAAE,GAAG,CAAC;IAC1C;EACF,CAAC;EAED,oBACE9B,OAAA,CAAAE,SAAA;IAAAgC,QAAA,gBACElC,OAAA;MAAKmC,SAAS,EAAC,SAAS;MAAAD,QAAA,eACtBlC,OAAA;QAAAkC,QAAA,EAAI;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eACNvC,OAAA;MAAAkC,QAAA,EACGZ,YAAY,CAACkB,GAAG,CAAEC,IAAI,iBACrBzC,OAAA;QAAAkC,QAAA,gBACElC,OAAA;UAAKmC,SAAS,EAAC,UAAU;UAAAD,QAAA,gBACvBlC,OAAA;YAAMmC,SAAS,EAAC,eAAe;YAAAD,QAAA,EAAEO,IAAI,CAACC;UAAQ;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACtDvC,OAAA;YAAMmC,SAAS,EAAE,eAAeT,cAAc,CAACe,IAAI,CAACd,KAAK,CAAC,EAAG;YAAAO,QAAA,EAAEO,IAAI,CAACd;UAAK;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9E,CAAC,eACNvC,OAAA;UAAQmC,SAAS,EAAC,WAAW;UAACQ,OAAO,EAAEA,CAAA,KAAMf,mBAAmB,CAACxB,MAAM,EAAEqC,IAAI,CAACX,MAAM,CAAE;UAAAI,QAAA,EAAC;QAEvF;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GAPFE,IAAI,CAACX,MAAM;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQhB,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA,eACL,CAAC;AAEP,CAAC;AAAChC,EAAA,CA1DIJ,IAAI;AAAAyC,EAAA,GAAJzC,IAAI;AA4DV,eAAeA,IAAI;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}