{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useLocation}from'react-router-dom';import'./CRUD.css';import axios from'axios';import CRUDHeader from'./CRUDHeader';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function CreateJoy(){const navigate=useNavigate();const location=useLocation();const{nextNo}=location.state||{};const[board,setBoard]=useState({title:'',body:''});const{title,body}=board;const onChange=event=>{const{value,name}=event.target;setBoard({...board,[name]:value});};const saveBoard=async event=>{event.preventDefault();const newPost={no:nextNo,title,content:body,created_date:new Date().toISOString(),board_type:'joy'};try{await axios.post(\"/joy/process/new_Post\",newPost,{withCredentials:true});alert('등록되었습니다.');navigate(\"/joy/PostView/\".concat(nextNo),{state:{newPost}});}catch(error){console.error('Error saving post:',error);alert('글을 저장하는 도중 오류가 발생했습니다.');}};const backToList=()=>{navigate('/community/joy');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CRUDHeader,{title:\"\\uAE30\\uC068\\uC774 \\uAE00\\uC4F0\\uAE30\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveBoard,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"\\uC81C\\uBAA9\",value:title,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"body\",placeholder:\"\\uB0B4\\uC6A9\",value:body,onChange:onChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:backToList,children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"\\uB4F1\\uB85D\\uD558\\uAE30\"})]})]});}export default CreateJoy;","map":{"version":3,"names":["React","useState","useNavigate","useLocation","axios","CRUDHeader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateJoy","navigate","location","nextNo","state","board","setBoard","title","body","onChange","event","value","name","target","saveBoard","preventDefault","newPost","no","content","created_date","Date","toISOString","board_type","post","withCredentials","alert","concat","error","console","backToList","children","onSubmit","type","placeholder","onClick"],"sources":["C:/Users/atwod/OneDrive/바탕 화면/동국대 폴더/백엔드 공부/실전 2차/HackathonProject2_OutsideIn_UPGRADED/front-end/src/components/community/CRUD/CreateJoy.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport './CRUD.css';\r\nimport axios from 'axios';\r\nimport CRUDHeader from './CRUDHeader';\r\n\r\nfunction CreateJoy() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { nextNo } = location.state || {};\r\n\r\n  const [board, setBoard] = useState({\r\n    title: '',\r\n    body: '',\r\n  });\r\n\r\n  const { title, body } = board;\r\n\r\n  const onChange = (event) => {\r\n    const { value, name } = event.target;\r\n    setBoard({\r\n      ...board,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const saveBoard = async (event) => {\r\n    event.preventDefault();\r\n    const newPost = {\r\n      no: nextNo,\r\n      title,\r\n      content: body,\r\n      created_date: new Date().toISOString(),\r\n      board_type: 'joy',\r\n    };\r\n\r\n    try {\r\n      await axios.post(`/joy/process/new_Post`, newPost, { withCredentials: true });\r\n      alert('등록되었습니다.');\r\n      navigate(`/joy/PostView/${nextNo}`, { state: { newPost } });\r\n    } catch (error) {\r\n      console.error('Error saving post:', error);\r\n      alert('글을 저장하는 도중 오류가 발생했습니다.');\r\n    }\r\n  };\r\n\r\n  const backToList = () => {\r\n    navigate('/community/joy');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <CRUDHeader title=\"기쁨이 글쓰기\" />\r\n      </div>\r\n      <form onSubmit={saveBoard}>\r\n        <div>\r\n          <span>제목</span>\r\n          <input type=\"text\" name=\"title\" placeholder=\"제목\" value={title} onChange={onChange} />\r\n        </div>\r\n        <br />\r\n        <div>\r\n          <span>내용</span>\r\n          <textarea name=\"body\" placeholder=\"내용\" value={body} onChange={onChange}></textarea>\r\n        </div>\r\n        <br />\r\n        <button type=\"button\" onClick={backToList}>\r\n          취소\r\n        </button>\r\n        <input type=\"submit\" value=\"등록하기\"></input>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateJoy;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}