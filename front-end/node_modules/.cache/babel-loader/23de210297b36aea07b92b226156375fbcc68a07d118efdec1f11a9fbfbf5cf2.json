{"ast":null,"code":"import React,{useState,useEffect}from'react';import Chat from'./Chat';import ChatRoom from'./Chatroom';import'./mainChat.css';import useUserData from'../useUserData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainChat=()=>{const[selectedRoomId,setSelectedRoomId]=useState(null);const{roomid}=useUserData();useEffect(()=>{const handleMessage=event=>{if(event.data&&event.data.roomId){setSelectedRoomId(event.data.roomId);}};window.addEventListener('message',handleMessage);return()=>{window.removeEventListener('message',handleMessage);};},[]);// const handleSelectRoom = (roomid, selectedRoomId) => {\n//   setSelectedRoomId(roomid);\n//   // 채팅 목록을 클릭할 때마다 채팅 창의 src 업데이트\n//   // navigate(`/Chatroom/${roomid}/to/${selectedRoomId}`);\n// };\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"chatmainpage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mainChatContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatListContainer\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"Chat List\",src:\"/process/chat?roomid=\".concat(roomid),className:\"iframe-container\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chatRoomContainer\",children:selectedRoomId?/*#__PURE__*/_jsx(\"iframe\",{title:\"Chat Room\",src:\"/Chatroom/\".concat(roomid,\"/to/\").concat(selectedRoomId),className:\"iframe-container\"}):/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:\"\\uCC44\\uD305\\uC744 \\uC2DC\\uC791\\uD558\\uB824\\uBA74 \\uC0AC\\uC6A9\\uC790\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\"})})]})});};export default MainChat;","map":{"version":3,"names":["React","useState","useEffect","Chat","ChatRoom","useUserData","jsx","_jsx","jsxs","_jsxs","MainChat","selectedRoomId","setSelectedRoomId","roomid","handleMessage","event","data","roomId","window","addEventListener","removeEventListener","className","children","title","src","concat"],"sources":["C:/Users/atwod/OneDrive/바탕 화면/동국대 폴더/백엔드 공부/실전 2차/HackathonProject2_OutsideIn_UPGRADED/front-end/src/components/chat/mainChat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Chat from './Chat';\r\nimport ChatRoom from './Chatroom';\r\nimport './mainChat.css';\r\nimport useUserData from '../useUserData';\r\n\r\nconst MainChat = () => {\r\n  const [selectedRoomId, setSelectedRoomId] = useState(null);\r\n  const { roomid } = useUserData();\r\n\r\n  useEffect(() => {\r\n    const handleMessage = (event) => {\r\n      if (event.data && event.data.roomId) {\r\n        setSelectedRoomId(event.data.roomId);\r\n      }\r\n    };\r\n    window.addEventListener('message', handleMessage);\r\n\r\n    return () => {\r\n      window.removeEventListener('message', handleMessage);\r\n    };\r\n  }, []);\r\n\r\n  // const handleSelectRoom = (roomid, selectedRoomId) => {\r\n  //   setSelectedRoomId(roomid);\r\n  //   // 채팅 목록을 클릭할 때마다 채팅 창의 src 업데이트\r\n  //   // navigate(`/Chatroom/${roomid}/to/${selectedRoomId}`);\r\n  // };\r\n\r\n  return (\r\n    <div className=\"chatmainpage\">\r\n      <div className=\"mainChatContainer\">\r\n        <div className=\"chatListContainer\">\r\n          <iframe title=\"Chat List\" src={`/process/chat?roomid=${roomid}`} className=\"iframe-container\" />\r\n        </div>\r\n        <div className=\"chatRoomContainer\">\r\n          {selectedRoomId ? (\r\n            <iframe title=\"Chat Room\" src={`/Chatroom/${roomid}/to/${selectedRoomId}`} className=\"iframe-container\" />\r\n          ) : (\r\n            <div className=\"placeholder\">채팅을 시작하려면 사용자를 선택하세요.</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainChat;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,gBAAgB,CACvB,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAEY,MAAO,CAAC,CAAGR,WAAW,CAAC,CAAC,CAEhCH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,aAAa,CAAIC,KAAK,EAAK,CAC/B,GAAIA,KAAK,CAACC,IAAI,EAAID,KAAK,CAACC,IAAI,CAACC,MAAM,CAAE,CACnCL,iBAAiB,CAACG,KAAK,CAACC,IAAI,CAACC,MAAM,CAAC,CACtC,CACF,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEL,aAAa,CAAC,CAEjD,MAAO,IAAM,CACXI,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEN,aAAa,CAAC,CACtD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AACA;AACA;AACA;AAEA,mBACEP,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3Bb,KAAA,QAAKY,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCf,IAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCf,IAAA,WAAQgB,KAAK,CAAC,WAAW,CAACC,GAAG,yBAAAC,MAAA,CAA0BZ,MAAM,CAAG,CAACQ,SAAS,CAAC,kBAAkB,CAAE,CAAC,CAC7F,CAAC,cACNd,IAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BX,cAAc,cACbJ,IAAA,WAAQgB,KAAK,CAAC,WAAW,CAACC,GAAG,cAAAC,MAAA,CAAeZ,MAAM,SAAAY,MAAA,CAAOd,cAAc,CAAG,CAACU,SAAS,CAAC,kBAAkB,CAAE,CAAC,cAE1Gd,IAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,4GAAqB,CAAK,CACxD,CACE,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}