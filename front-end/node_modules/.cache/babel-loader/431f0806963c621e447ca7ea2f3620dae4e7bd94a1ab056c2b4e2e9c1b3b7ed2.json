{"ast":null,"code":"import React,{useState,useEffect}from'react';import Chat from'./Chat';import ChatRoom from'./Chatroom';import'./mainChat.css';import useUserData from'../useUserData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MainChat=()=>{const[selectedRoomId,setSelectedRoomId]=useState(null);const{roomid}=useUserData();useEffect(()=>{const handleMessage=event=>{if(event.data&&event.data.roomId){setSelectedRoomId(event.data.roomId);}};window.addEventListener('message',handleMessage);return()=>{window.removeEventListener('message',handleMessage);};},[]);// const handleSelectRoom = (roomid, selectedRoomId) => {\n//   setSelectedRoomId(roomid);\n//   // 채팅 목록을 클릭할 때마다 채팅 창의 src 업데이트\n//   // navigate(`/Chatroom/${roomid}/to/${selectedRoomId}`);\n// };\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"chatmainpage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mainChatContainer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatListContainer\",children:/*#__PURE__*/_jsx(\"iframe\",{title:\"Chat List\",src:\"/process/chat?roomid=\".concat(roomid),className:\"iframe-container\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"chatRoomContainer\",children:selectedRoomId?/*#__PURE__*/_jsx(\"iframe\",{title:\"Chat Room\",src:\"/Chatroom/\".concat(roomid,\"/to/\").concat(selectedRoomId),className:\"iframe-container\"}):/*#__PURE__*/_jsx(\"div\",{className:\"placeholder\",children:\"\\uCC44\\uD305\\uC744 \\uC2DC\\uC791\\uD558\\uB824\\uBA74 \\uC0AC\\uC6A9\\uC790\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694.\"})})]})});};export default MainChat;","map":{"version":3,"names":["React","useState","useEffect","Chat","ChatRoom","useUserData","jsx","_jsx","jsxs","_jsxs","MainChat","selectedRoomId","setSelectedRoomId","roomid","handleMessage","event","data","roomId","window","addEventListener","removeEventListener","className","children","title","src","concat"],"sources":["/Users/eunyi/Documents/3-2/DB/shop/front-end/src/components/chat/mainChat.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Chat from './Chat';\nimport ChatRoom from './Chatroom';\nimport './mainChat.css';\nimport useUserData from '../useUserData';\n\nconst MainChat = () => {\n  const [selectedRoomId, setSelectedRoomId] = useState(null);\n  const { roomid } = useUserData();\n\n  useEffect(() => {\n    const handleMessage = (event) => {\n      if (event.data && event.data.roomId) {\n        setSelectedRoomId(event.data.roomId);\n      }\n    };\n    window.addEventListener('message', handleMessage);\n\n    return () => {\n      window.removeEventListener('message', handleMessage);\n    };\n  }, []);\n\n  // const handleSelectRoom = (roomid, selectedRoomId) => {\n  //   setSelectedRoomId(roomid);\n  //   // 채팅 목록을 클릭할 때마다 채팅 창의 src 업데이트\n  //   // navigate(`/Chatroom/${roomid}/to/${selectedRoomId}`);\n  // };\n\n  return (\n    <div className=\"chatmainpage\">\n      <div className=\"mainChatContainer\">\n        <div className=\"chatListContainer\">\n          <iframe title=\"Chat List\" src={`/process/chat?roomid=${roomid}`} className=\"iframe-container\" />\n        </div>\n        <div className=\"chatRoomContainer\">\n          {selectedRoomId ? (\n            <iframe title=\"Chat Room\" src={`/Chatroom/${roomid}/to/${selectedRoomId}`} className=\"iframe-container\" />\n          ) : (\n            <div className=\"placeholder\">채팅을 시작하려면 사용자를 선택하세요.</div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainChat;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,gBAAgB,CACvB,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAEY,MAAO,CAAC,CAAGR,WAAW,CAAC,CAAC,CAEhCH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAY,aAAa,CAAIC,KAAK,EAAK,CAC/B,GAAIA,KAAK,CAACC,IAAI,EAAID,KAAK,CAACC,IAAI,CAACC,MAAM,CAAE,CACnCL,iBAAiB,CAACG,KAAK,CAACC,IAAI,CAACC,MAAM,CAAC,CACtC,CACF,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEL,aAAa,CAAC,CAEjD,MAAO,IAAM,CACXI,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEN,aAAa,CAAC,CACtD,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA;AACA;AACA;AACA;AAEA,mBACEP,IAAA,QAAKc,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3Bb,KAAA,QAAKY,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCf,IAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAChCf,IAAA,WAAQgB,KAAK,CAAC,WAAW,CAACC,GAAG,yBAAAC,MAAA,CAA0BZ,MAAM,CAAG,CAACQ,SAAS,CAAC,kBAAkB,CAAE,CAAC,CAC7F,CAAC,cACNd,IAAA,QAAKc,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC/BX,cAAc,cACbJ,IAAA,WAAQgB,KAAK,CAAC,WAAW,CAACC,GAAG,cAAAC,MAAA,CAAeZ,MAAM,SAAAY,MAAA,CAAOd,cAAc,CAAG,CAACU,SAAS,CAAC,kBAAkB,CAAE,CAAC,cAE1Gd,IAAA,QAAKc,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,4GAAqB,CAAK,CACxD,CACE,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}